# Lucene

	# Lucene介绍 #

**什么是lucene?**
		Lucene是apache下的一个开放源代码的全文检索引擎工具包。Lucene可以实现全文检索功能，Lucene就是一个工具包（提供了Jar包，实现全文检索的类库）。Lucene只是一个引擎，只是一个工具包，如果使用Lucene开发全文检索功能，(特别注意)Lucene是不能单独运行的。作为开发工程师可以使用lucene提供的类库开发搜索引擎.

**应用场景**

		使用全文检索技术可以实现搜索引擎（百度、google。。），搜索引擎可以搜索互联网上所有的内容（网页、pdf电子书、视频、音乐）。

Lucene和搜索引擎的区别：搜索引擎是对外提供全文检索服务，是可以单独运行。Lucene只是一个工具包不能单独运行的，需要在project中加入lucene的jar包，最终project在JVM运行。

使用全文检索技术可以实现站内搜索，站内搜索只能搜索本网站的信息（网页、pdf电子书、视频、音乐、关系数据库中的信息等等），比如：电商网站搜索商品信息，论坛网站搜索网内帖子。

## 全文检索的定义 ##

	全文检索首先将要搜索的目标文档中的词提取出来，组成索引，通过查询索引达到搜索目标文档的目的。
	这种先建立索引，再对索引进行搜索的过程就叫全文检索（Full-text Search）


创建索引:我们采集的数据 来源是很广泛的  可能来自数据库中,互联网上,文件系统等等,采集到数据之后,这些数据的结构并非源数据库能够识别管理的结构,所以我们需要对数据进行结构化, 然后从源数据库中提取关键信息,从关键信息中抽取一个一个词,词和源数据是有关联的,索引库中就是一个一个的库;

搜索索引:用户执行搜索,编写查询关键,点击搜素,lucene会对用户的 query语句 , 进行检查识别和语法分析,然后根据查询关键字搜索索引库中的一个
一个的词,然后向用户展示搜索的结果
	

# 涉及的一些问题 #

	**1.为什么要采集数据**

		全文检索要搜索的源数据的格式是多种多样的，比如：互联网站上的网页(html)、互联网上的音乐(mp3..)、视频(avi..)、pdf电子书等。
	
	全文检索搜索的这些数据称为非结构化数据

什么是非结构化数据？
	结构化数据：指具有固定格式或有限长度的数据，如数据库，元数据等。
	非结构化数据：指不定长或无固定格式的数据，如邮件，word文档等

如何搜索结构的数据？
	由于结构化数据是固定格式，所以就可以针对固定格式的数据设计算法来搜索，比如数据库like查询，like是根据关键字去搜索的内容中顺序扫描关键字。
select * from book where  description  like   '%java%'
description  的内容很多，如果要顺序扫描的算法，速度很慢的。

如何搜索非结构的数据？
	需要将所有要搜索的非结构化数据通过技术手段采集到一个固定的地方，将这些非结构化的数据想办法组成结构化的数据，再以一定的算法去搜索。

	**2.如何采集数据**

	针对不同的源数据，使用不同的技术进行采集：
1、针对互联网上的数据，使用http协议抓取html网页到本地，生成一个html文件。
2、针对关系数据库中的数据，连接数据库读取表中的数据。
3、针对文件系统中的数据，通过流读取文件系统的文件。

以上技术中使用第一种较多，因为目前全文检索主要搜索数据的来源是互联网，搜索引擎使用一种爬虫程序抓取网页（ 通过http抓取html网页信息），以下是一些爬虫项目（了解）：
	Solr（http://lucene.apache.org/solr） ，solr是apache的一个子项目，支持从关系数据库、xml文档中提取原始数据。
	Nutch（http://lucene.apache.org/nutch）, Nutch是apache的一个子项目，包括大规模爬虫工具，能够抓取和分辨web网站数据。
	jsoup（http://jsoup.org/ ），jsoup 是一款Java 的HTML解析器，可直接解析某个URL地址、HTML文本内容。它提供了一套非常省力的API，可通过DOM，CSS以及类似于jQuery的操作方法来取出和操作数据。
	heritrix（http://sourceforge.net/projects/archive-crawler/files/），Heritrix 是一个由 java 开发的、开源的网络爬虫，用户可以使用它来从网上抓取想要的资源。其最出色之处在于它良好的可扩展性，方便用户实现自己的抓取逻辑。
